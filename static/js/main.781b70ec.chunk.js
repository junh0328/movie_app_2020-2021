(this.webpackJsonpmovie_app__2020=this.webpackJsonpmovie_app__2020||[]).push([[0],{41:function(e,t,a){},47:function(e,t,a){e.exports=a(80)},71:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),s=a(14),i=a(5),u=a(7),l=a.n(u),m=a(21),v=a(22),d=a(23),p=a(26),E=a(25),f=a(24),b=a.n(f);a(71);var O=function(e){var t=e.id,a=e.year,n=e.title,c=e.summary,o=e.poster,i=e.genres;return r.a.createElement("div",{className:"movie"},r.a.createElement(s.b,{to:{pathname:"/movie/".concat(t),state:{year:a,title:n,summary:c,poster:o,genres:i}}},r.a.createElement("img",{src:o,alt:n,title:n}),r.a.createElement("div",{className:"movie__data"},r.a.createElement("h3",{className:"movie__title"},n),r.a.createElement("h5",{className:"movie__year"},a),r.a.createElement("ul",{className:"movie__genres"},i.map((function(e,t){return r.a.createElement("li",{key:t,className:"genres__genre"},e)}))),r.a.createElement("p",{className:"movie__summary"},c.slice(0,180),"..."))))},_=(a(41),function(e){Object(p.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!0,movies:[]},e.getMovies=Object(m.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("https://yts-proxy.now.sh/list_movies.json?limit=10&&sort_by=download_count");case 2:a=t.sent,n=a.data.data.movies,e.setState({movies:n,isLoading:!1});case 5:case"end":return t.stop()}}),t)}))),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getMovies()}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.movies;return console.log(a),r.a.createElement("section",{className:"container"},t?r.a.createElement("div",{className:"loader"},r.a.createElement("span",{className:"loader__text"},"Loading...")):r.a.createElement("div",{className:"movies"},a.map((function(e){return r.a.createElement(O,{key:e.id,id:e.id,year:e.year,title:e.title,summary:e.summary,poster:e.medium_cover_image,genres:e.genres})}))))}}]),a}(r.a.Component)),h=(a(76),function(e){Object(p.a)(a,e);var t=Object(E.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location,a=e.history;void 0===t.state&&a.push("/")}},{key:"render",value:function(){var e=this.props.location;return e.state?r.a.createElement("div",{className:"box"},r.a.createElement("p",null,r.a.createElement("img",{src:e.state.poster,alt:e.state.title})),r.a.createElement("h2",null,e.state.year,", ",e.state.title),r.a.createElement("p",null,e.state.summary)):null}}]),a}(r.a.Component));a(77);var y=function(){return r.a.createElement("div",{className:"nav"},r.a.createElement(s.b,{to:"/"},"Home"),r.a.createElement(s.b,{to:"/changed"},"Changed"))},g=(a(78),a(45)),j=a(17),w=a(43),x={movies:[],isLoading:!0,loadMovieLoading:!1,loadMovieDone:!1,loadMovieError:null},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;return Object(w.a)(e,(function(a){switch(t.type){case"LOAD_MOVIES_REQUEST":a.loadMovieLoading=!0,a.loadMovieDone=!1;break;case"LOAD_MOVIES_SUCCESS":a.movies=a.movies.concat(t.data),a.isLoading=!1,a.loadMovieDone=!0;break;case"LOAD_MOVIES_FAILURE":a.loadMovieError=t.error;break;default:return e}}))},S=function(){var e=Object(j.c)((function(e){return e.movies})),t=e.isLoading,a=e.movies,c=Object(n.useState)(1),o=Object(g.a)(c,2),s=o[0],i=o[1],u=Object(j.b)();Object(n.useEffect)((function(){u({type:"LOAD_MOVIES_REQUEST",data:s}),i((function(e){return e+1}))}),[u]);var l=function(){var e=document.documentElement.scrollHeight;document.documentElement.scrollTop+document.documentElement.clientHeight>=e&&(console.log("pageNumber \uc5c5\ub370\uc774\ud2b8  ".concat(s)),u({type:"LOAD_MOVIES_REQUEST",data:s}),i((function(e){return e+1})))};return Object(n.useEffect)((function(){return window.addEventListener("scroll",l),function(){window.removeEventListener("scroll",l)}}),[s,u]),r.a.createElement("section",{className:"container"},t?r.a.createElement("div",null,"\ub85c\ub529\uc911.."):r.a.createElement("div",{className:"movies"},a.map((function(e){return r.a.createElement(O,{key:e.id,id:e.id,year:e.year,title:e.title,summary:e.summary,poster:e.medium_cover_image,genres:e.genres})}))))};var M=function(){return r.a.createElement(s.a,null,r.a.createElement(y,null),r.a.createElement(i.a,{path:"/",exact:!0,component:_}),r.a.createElement(i.a,{path:"/changed",exact:!0,component:S}),r.a.createElement(i.a,{path:"/movie/:id",component:h}))},k=a(12),N=Object(k.combineReducers)({movies:L}),D=a(44),A=a(46),I=a(13),U=l.a.mark(Q),V=l.a.mark(H),C=l.a.mark(F);function R(e){return T.apply(this,arguments)}function T(){return(T=Object(m.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("https://yts-proxy.now.sh/list_movies.json?limit=10&&sort_by=download_count&page=".concat(t));case 3:return a=e.sent,n=a.data.data.movies,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Q(e){var t;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(I.b)(R,e.data);case 2:return t=a.sent,a.prev=3,a.next=6,Object(I.d)({type:"LOAD_MOVIES_SUCCESS",data:t});case 6:a.next=13;break;case 8:return a.prev=8,a.t0=a.catch(3),console.error(a.t0),a.next=13,Object(I.d)({type:"LOAD_MOVIES_FAILURE",error:a.t0.response.data});case 13:case"end":return a.stop()}}),U,null,[[3,8]])}function H(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.e)("LOAD_MOVIES_REQUEST",Q);case 2:case"end":return e.stop()}}),V)}function F(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.a)([Object(I.c)(H)]);case 2:case"end":return e.stop()}}),C)}var J=l.a.mark(B);function B(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.a)([Object(I.c)(F)]);case 2:case"end":return e.stop()}}),J)}var W=Object(A.a)(),q=Object(k.createStore)(N,Object(D.composeWithDevTools)(Object(k.applyMiddleware)(W)));W.run(B),o.a.render(r.a.createElement(j.a,{store:q},r.a.createElement(M,null)),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.781b70ec.chunk.js.map