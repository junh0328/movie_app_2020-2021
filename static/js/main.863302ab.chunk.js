(this.webpackJsonpmovie_app__2020=this.webpackJsonpmovie_app__2020||[]).push([[0],{41:function(e,t,a){},46:function(e,t,a){e.exports=a(79)},70:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),c=a.n(o),s=a(14),i=a(5),l=a(7),u=a.n(l),m=a(21),v=a(22),p=a(23),d=a(26),E=a(25),f=a(24),b=a.n(f);a(70);var _=function(e){var t=e.id,a=e.year,n=e.title,o=e.summary,c=e.poster,i=e.genres;return r.a.createElement("div",{className:"movie"},r.a.createElement(s.b,{to:{pathname:"/movie/".concat(t),state:{year:a,title:n,summary:o,poster:c,genres:i}}},r.a.createElement("img",{src:c,alt:n,title:n}),r.a.createElement("div",{className:"movie__data"},r.a.createElement("h3",{className:"movie__title"},n),r.a.createElement("h5",{className:"movie__year"},a),r.a.createElement("ul",{className:"movie__genres"},i.map((function(e,t){return r.a.createElement("li",{key:t,className:"genres__genre"},e)}))),r.a.createElement("p",{className:"movie__summary"},o.slice(0,180),"..."))))},g=(a(41),function(e){Object(d.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!0,movies:[]},e.getMovies=Object(m.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("https://yts-proxy.now.sh/list_movies.json?limit=30&&sort_by=download_count");case 2:a=t.sent,n=a.data.data.movies,e.setState({movies:n,isLoading:!1});case 5:case"end":return t.stop()}}),t)}))),e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.getMovies()}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.movies;return console.log(a),r.a.createElement("section",{className:"container"},t?r.a.createElement("div",{className:"loader"},r.a.createElement("span",{className:"loader__text"},"Loading...")):r.a.createElement("div",{className:"movies"},a.map((function(e){return r.a.createElement(_,{key:e.id,id:e.id,year:e.year,title:e.title,summary:e.summary,poster:e.medium_cover_image,genres:e.genres})}))))}}]),a}(r.a.Component)),h=(a(75),function(e){Object(d.a)(a,e);var t=Object(E.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location,a=e.history;void 0===t.state&&a.push("/")}},{key:"render",value:function(){var e=this.props.location;return e.state?r.a.createElement("div",{className:"box"},r.a.createElement("p",null,r.a.createElement("img",{src:e.state.poster,alt:e.state.title})),r.a.createElement("h2",null,e.state.year,", ",e.state.title),r.a.createElement("p",null,e.state.summary)):null}}]),a}(r.a.Component));a(76);var O=function(){return r.a.createElement("div",{className:"nav"},r.a.createElement(s.b,{to:"/"},"Home"),r.a.createElement(s.b,{to:"/changed"},"Changed"))},y=(a(77),a(17)),j=a(43),x={movies:[],isLoading:!0,loadMovieLoading:!1,loadMovieDone:!1,loadMovieError:null},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;return Object(j.a)(e,(function(a){switch(t.type){case"LOAD_MOVIES_REQUEST":a.loadMovieLoading=!0,a.loadMovieDone=!1;break;case"LOAD_MOVIES_SUCCESS":a.movies=a.movies.concat(t.data),a.isLoading=!1,a.loadMovieDone=!0;break;case"LOAD_MOVIES_FAILURE":a.loadMovieError=t.error;break;default:return e}}))},M=function(){var e=Object(y.c)((function(e){return e.movies})),t=e.isLoading,a=e.movies,o=Object(y.b)();return Object(n.useEffect)((function(){o({type:"LOAD_MOVIES_REQUEST"})}),[o]),Object(n.useEffect)((function(){a&&(console.log("movies \uac10\uc9c0"),console.log(a))}),[a]),r.a.createElement("section",{className:"container"},t?r.a.createElement("div",null,"\ub85c\ub529\uc911.."):r.a.createElement("div",{className:"movies"},a.map((function(e){return r.a.createElement(_,{key:e.id,id:e.id,year:e.year,title:e.title,summary:e.summary,poster:e.medium_cover_image,genres:e.genres})}))))};var k=function(){return r.a.createElement(s.a,null,r.a.createElement(O,null),r.a.createElement(i.a,{path:"/",exact:!0,component:g}),r.a.createElement(i.a,{path:"/changed",exact:!0,component:M}),r.a.createElement(i.a,{path:"/movie/:id",component:h}))},L=a(12),S=Object(L.combineReducers)({movies:w}),N=a(44),D=a(45),A=a(13),I=u.a.mark(T),C=u.a.mark(Q),U=u.a.mark(F);function V(){return R.apply(this,arguments)}function R(){return(R=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("https://yts-proxy.now.sh/list_movies.json?limit=10&&sort_by=download_count");case 3:return t=e.sent,a=t.data.data.movies,console.log("movies \uac00\uc838\uc640\uc11c \uad6c\uc870\ubd84\ud574\ud560\ub2f9\uc73c\ub85c \ub2f4\uae30"),console.log(a),e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function T(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(A.b)(V);case 2:return e=t.sent,console.log("\ub9ac\ud134\ub41c result \ucd9c\ub825 :"),console.log(e),t.prev=5,console.log("saga loadMovies start!"),t.next=9,Object(A.d)({type:"LOAD_MOVIES_SUCCESS",data:e});case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(5),console.error(t.t0),t.next=16,Object(A.d)({type:"LOAD_MOVIES_FAILURE",error:t.t0.response.data});case 16:case"end":return t.stop()}}),I,null,[[5,11]])}function Q(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.e)("LOAD_MOVIES_REQUEST",T);case 2:case"end":return e.stop()}}),C)}function F(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.a)([Object(A.c)(Q)]);case 2:case"end":return e.stop()}}),U)}var J=u.a.mark(B);function B(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.a)([Object(A.c)(F)]);case 2:case"end":return e.stop()}}),J)}var H=Object(D.a)(),W=Object(L.createStore)(S,Object(N.composeWithDevTools)(Object(L.applyMiddleware)(H)));H.run(B),c.a.render(r.a.createElement(y.a,{store:W},r.a.createElement(k,null)),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.863302ab.chunk.js.map